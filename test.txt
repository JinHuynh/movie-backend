Tuần 1: Thiết lập cơ bản và API quản lý người dùng, gói dịch vụ, và voucher
Trong tuần đầu tiên, ta sẽ tập trung vào các API liên quan đến quản lý tài khoản người dùng và các chức năng cơ bản khác như gói dịch vụ và voucher.

Ngày 1-2: Chuẩn bị và thiết lập

Thiết lập môi trường phát triển: Cấu hình Laravel, thiết lập cơ sở dữ liệu, kiểm tra kết nối.
Cài đặt các package cần thiết (JWT cho bảo mật API, Swagger cho document API).
Thiết kế và thử nghiệm API skeleton (cấu trúc API tổng quát).

Cài đặt JWT (JSON Web Token)
Cài đặt package tymon/jwt-auth để thực hiện xác thực API:
composer require tymon/jwt-auth

Xuất bản cấu hình:
php artisan vendor:publish --provider="Tymon\JWTAuth\Providers\LaravelServiceProvider"

Cấu hình JWT:
Mở file config/jwt.php và điều chỉnh các cấu hình nếu cần thiết.

Tạo khóa JWT:
php artisan jwt:secret
kiểm tra file .env có dòng JWT_SECRET="" chưa

test post user
127.0.0.1:8000/api/users
{
    "user_name": "Jin Huynh",
    "email": "jin@example.com",
    "password": "password123",
    "avatar": "link_to_avatar",
    "gender": "nam",
    "role": 1,
    "google_id": "google_id_if_any",
    "access_token": "access_token_if_any",
    "provider": "local"
}

test put user
127.0.0.1:8000/api/users/{$user_id}
{
    "user_name": "Jin bede",
    "email": "jinbede@example.com",
    "gender": "nu"
}

login
check role admin là 1
127.0.0.1:8000/api/login
{
    "email": "jin@example.com",
    "password": "password123"
}
lấy Token
header
key: Authorization
value: Bearer (token đã lấy)



Ngày 3-4: API người dùng (USER)
CRUD (Create, Read, Update, Delete) cho người dùng.
Đăng ký, đăng nhập (sử dụng JWT hoặc OAuth).
Xác thực người dùng qua vai trò (role), quản lý quyền truy cập.
API profile người dùng: cập nhật avatar, thông tin cá nhân, đổi mật khẩu.
Bảng liên quan:

USER (login, register, update profile).
Ngày 5-6: API gói dịch vụ (PACKAGES)
CRUD cho các gói dịch vụ.
API mua gói dịch vụ, cập nhật thời gian sử dụng gói cho người dùng.
Bảng liên quan:

PACKAGES, INVOICES.
Ngày 7: API quản lý voucher (VOUCHERS)
CRUD cho voucher và loại voucher.
API áp dụng voucher vào hóa đơn người dùng.
Bảng liên quan:

VOUCHERS, VOUCHER_TYPES.
Tuần 2: API phim, diễn viên, thể loại, và tập phim
Tuần này tập trung vào việc xử lý các API liên quan đến phim và nội dung liên quan, bao gồm các tập phim, diễn viên và thể loại.

Ngày 8-9: API phim (MOVIES)
CRUD phim: thêm, sửa, xóa phim, và thông tin chi tiết.
API lọc phim theo thể loại, quốc gia, đạo diễn.
Xem thông tin chi tiết của một phim, bao gồm các tập và diễn viên.
Bảng liên quan:

MOVIES, MOVIE_TYPES.
Ngày 10-11: API diễn viên (ACTORS)
CRUD diễn viên.
API lấy danh sách phim mà một diễn viên tham gia.
Bảng liên quan:

ACTORS, MOVIES_ACTORS.
Ngày 12-13: API thể loại phim (GENRES)
CRUD thể loại phim.
API lấy danh sách phim theo thể loại.
Bảng liên quan:

GENRES, MOVIES_GENRES.
Ngày 14: API tập phim (EPISODES)
CRUD tập phim.
API lấy danh sách tập của một bộ phim.
Bảng liên quan:

EPISODES, MOVIES.
Tuần 3: API bình luận, yêu thích và lịch sử xem
Tuần cuối cùng sẽ tập trung vào các chức năng phức tạp hơn như quản lý bình luận, danh sách yêu thích và lịch sử xem.

Ngày 15-16: API bình luận phim (COMMENT)
CRUD bình luận.
API đánh giá phim (rating) và quản lý trạng thái bình luận.
Bảng liên quan:

COMMENT.
Ngày 17: API yêu thích phim (FAVOURITES)
Thêm phim vào danh sách yêu thích.
Xem danh sách phim yêu thích của người dùng.
Bảng liên quan:

FAVOURITES.
Ngày 18: API lịch sử xem (HISTORIES)
API lưu lại và xem lịch sử xem phim của người dùng.
Bảng liên quan:

HISTORIES.
Ngày 19-20: Kiểm thử tổng hợp và tối ưu hóa
Kiểm thử tích hợp: Chạy toàn bộ hệ thống API để kiểm tra tính tương thích.
Tối ưu hóa: Hiệu suất truy vấn, cải thiện bảo mật.
Viết document API: Sử dụng Swagger hoặc Postman để tạo tài liệu cho hệ thống API.
Dự phòng: Ngày 21-23
Dự phòng cho các lỗi phát sinh, yêu cầu thay đổi từ phía client.
Tổng kết
Kế hoạch này phân chia công việc dựa trên độ phức tạp từ cơ bản đến phức tạp, từ các chức năng quản lý tài khoản, gói dịch vụ đến các chức năng liên quan đến phim.
Tuần 1 giúp thiết lập nền tảng và triển khai các chức năng quản lý đơn giản.
Tuần 2 tập trung vào phần nội dung chính của hệ thống (phim, diễn viên, thể loại).
Tuần 3 xử lý các chức năng phức tạp hơn (bình luận, yêu thích, lịch sử xem) và kiểm thử tổng hợp.
